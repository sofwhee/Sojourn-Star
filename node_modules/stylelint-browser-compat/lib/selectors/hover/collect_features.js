"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.collectFeatures = collectFeatures;
async function collectFeatures({
  node,
  parent
}) {
  if (node.value !== ':hover') {
    return [];
  }
  const features = [];
  let current = node;
  while (current = current.prev()) {
    if (!['id', 'class', 'attribute', 'tag', 'pseudo'].includes(current.type)) {
      break;
    }
    const index = node.sourceIndex;
    const endIndex = index + node.value.length;
    if (current.type === 'tag') {
      if (current.value === 'a') {
        features.push({
          endIndex,
          id: `selectors.hover.a_elements`,
          index,
          name: `":hover" pseudo-class with the anchor tag`,
          node: parent
        });
      } else {
        features.push({
          endIndex,
          id: `selectors.hover.all_elements`,
          index,
          name: `":hover" pseudo-class with any tag`,
          node: parent
        });
      }
    }
  }
  return features;
}